<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.iyf.salesledger.dao.SalesResultDao">
	<resultMap type="map" id="salesResultMap">
		<result property="sales_result_id" column="sales_result_id"/>
		<result property="total_sales_amount" column="total_sales_amount"/>
		<result property="total_purchase_amount" column="total_purchase_amount"/>
		<result property="sales_source" column="sales_source"/>
		<result property="client" column="client"/>
		<result property="subcontract" column="subcontract"/>
		<result property="project_name" column="project_name"/>
		<result property="batch_month" column="batch_month"/>
		<result property="company" column="company"/>
		<result property="department" column="department"/>
		<result property="handwrite" column="handwrite"/>
	</resultMap>
	<select id="listByCompanyAndDepartmentAndBatchMonth" resultMap="salesResultMap">
		select * from t_sales_result where company = #{company} and department = #{department} and batch_month = #{batch_month} ORDER BY 1 DESC;
	</select>
	
	<insert id="insert">
		insert into t_sales_result
		(
			sales_result_id, company, department, sales_source, client, subcontract, project_name,
			total_sales_amount, total_purchase_amount, batch_month, handwrite	
		)
		values
		(
			default, #{company}, #{department}, #{sales_source}, #{client}, #{subcontract}, #{project_name},
			#{total_sales_amount}, #{total_purchase_amount}, #{batch_month}, #{handwrite}
		)
	</insert>
</mapper>